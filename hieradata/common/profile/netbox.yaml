profile::netbox::active_server: netbox1001.wikimedia.org

profile::netbox::service_hostname: netbox.wikimedia.org

profile::netbox::netbox_api: "https://%{hiera('profile::netbox::service_hostname')}/"

profile::netbox::frontends: "%{alias('netbox_frontend')}"

profile::netbox::service_hostname: netbox.wikimedia.org
profile::netbox::netbox_api: https://netbox.wikimedia.org/

profile::netbox::ganeti_sync_interval: 15
profile::netbox::netbox_report_checks:
    -   name: puppetdb
        class: 'puppetdb.PuppetDB'
        alert: true
        check_interval: 5
        run_interval: '*-*-* *:06/30:00' # every 30 minutes
    -   name: coherence
        class: 'coherence.Coherence'
        alert: true
        check_interval: 5
        run_interval: '*-*-* *:09/30:00' # every 30 minutes
    -   name: management
        class: 'management.ManagementConsole'
        alert: true
        check_interval: 5
        run_interval: '*-*-* *:03/30:00' # every 30 minutes
    -   name: accounting
        class: 'accounting.Accounting'
        alert: true
        check_interval: null
        run_interval: '*-*-* 23:12:00' # once a day at 23:12 UTC
    -   name: cables
        class: 'cables.Cables'
        alert: true
        check_interval: 5
        run_interval: '*-*-* *:06/30:00' # every 30 minutes
    -   name: librenms
        class: 'librenms.LibreNMS'
        alert: true
        check_interval: 5
        run_interval: '*-*-* *:06/30:00' # every 30 minutes

profile::netbox::ganeti_sync_profiles:
    - profile: eqiad
      url: ganeti01.svc.eqiad.wmnet
      port: 5080
    - profile: codfw
      url: ganeti01.svc.codfw.wmnet
      port: 5080

profile::netbox::dump_interval: '*-*-* *:37:00'

# private:
# profile::netbox::secret_key
# profile::netbox::tokens::read_write
