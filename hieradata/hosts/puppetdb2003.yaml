profile::puppetdb::database::users:
  replication@puppetdb2003-ipv4:
    user: replication
    password: "%{alias('puppetdb::password::replication')}"
    database: replication
    cidr: 10.192.48.75/32
    attrs: REPLICATION
  puppetdb@puppetdb2003-ipv4:
    user: puppetdb
    password: "%{alias('puppetdb::password::rw')}"
    database: puppetdb
    cidr: 10.192.48.75/32
  puppetdb@localhost:
    user: puppetdb
    password: "%{alias('puppetdb::password::rw')}"
    database: puppetdb
    cidr: "%{facts.networking.ip}/32"
  puppetdb_ro@puppetdb2003-ipv4:
    user: puppetdb_ro
    password: "%{alias('puppetdb::password::ro')}"
    database: puppetdb
    cidr: 10.192.48.75/32
    privileges:
      table: 'SELECT'
  puppetdb_ro@localhost:
    user: puppetdb_ro
    password: "%{alias('puppetdb::password::ro')}"
    database: puppetdb
    cidr: "%{facts.networking.ip}/32"
    privileges:
      table: 'SELECT'
  prometheus@localhost:
    user: 'prometheus'
    database: 'postgres'
    type: 'local'
    method: 'peer'
profile::puppetdb::master: puppetdb1003.eqiad.wmnet
profile::puppetdb::slaves: [puppetdb2003.codfw.wmnet]
profile::puppetdb::clean_stockpile: true
