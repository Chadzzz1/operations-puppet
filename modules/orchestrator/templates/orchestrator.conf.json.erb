{
  "Debug": true,
  "ListenAddress": "localhost:3000",
  "ReadOnly": true,
  "EnableSyslog": true,
  "AuditToSyslog": true,

<% if @db_backend == 'mysql' -%>
  "BackendDB": "mysql",
  "MySQLOrchestratorHost": "<%= @db_backend_host %>",
  "MySQLOrchestratorPort": <%= @db_backend_port %>,
  "MySQLOrchestratorDatabase": "<%= @db_backend_database %>",
  "MySQLOrchestratorCredentialsConfigFile": "/etc/mysql/orchestrator_srv.cnf",
  "MySQLOrchestratorSSLCAFile": "/etc/ssl/certs/Puppet_Internal_CA.pem",
<% elsif @db_backend == 'sqlite' -%>
  "BackendDB": "sqlite",
  "SQLite3DataFile": "/var/lib/orchestrator/orchestrator.db",
<% end -%>

  "MySQLTopologyCredentialsConfigFile": "/etc/mysql/orchestrator_topo.cnf",
  "InstancePollSeconds": 5,
  "MySQLConnectTimeoutSeconds": 1,

  "CandidateInstanceExpireMinutes": 60,
  "FailureDetectionPeriodBlockMinutes": 60,
  "FailMasterPromotionOnLagMinutes": 0,
  "PreventCrossDataCenterMasterFailover": true,
  "DelayMasterPromotionIfSQLThreadNotUpToDate": true,
  "MasterFailoverDetachReplicaMasterHost": true,
  "RecoveryPeriodBlockSeconds": 10800,

  "DetectClusterAliasQuery": "SELECT shard FROM heartbeat.heartbeat ORDER BY ts DESC LIMIT 1",
  "DetectDataCenterQuery": "SELECT @@wsrep_cluster_name"
}
